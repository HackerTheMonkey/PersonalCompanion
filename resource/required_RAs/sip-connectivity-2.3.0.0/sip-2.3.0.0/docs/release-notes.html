<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

    <title>Release Notes</title>

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link href="css/main.css" rel="stylesheet" type="text/css">
    <link href="css/diameter.css" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" href="favicon.ico">
</head>

<body>

<div id="wrapper">
    <div id="header"><a href="http://www.opencloud.com/" title="OpenCloud">OpenCloud</a></div>

    <div id="content">
        <div id="content-top"></div>

  <div id="subnav-column" class="diameter">
            <ul class="subnav">
                <li><a href="index.html" title="SIP Connectivity Pack" id="diameter">SIP Connectivity Pack</a></li>
            </ul>
            <ul class="subnav-diameter">
                <li><strong>Release Notes</strong></li>
                <li><a href="getting-started.html" title="Getting Started" id="getting-started">Getting Started</a></li>
                <li><a href="configuration.html" title="Configuration" id="configuration">RA Configuration</a></li>
                <li><a href="features.html" title="Features" id="features">RA Features</a></li>
                <li><a href="ratype.html" title="RA Type" id="ratype">RA Type Overview</a></li>
                <li><a href="examples.html" title="Examples" id="examples">Example Applications</a></li>
            </ul>
        </div>
        <div id="content-column">

            <div id="content-column-text">
                <div class="h1-header">
                    <h1>Release Notes</h1>
                </div>

                <h2>SIP Connectivity Pack 2.3.0.0</h2>

                <h3>OCSIP Resource Adaptor 2.3.0.0</h3>
                <ul>
                    <li>SBBs may call non-I/O methods on the SleeSipProvider when the RA entity is inactive, for
                        example accessing the SIP factories to create URIs or headers. Previously this would have
                        resulted in an exception.</li>
                    <li>A rate limit can optionally be applied to new dialogs using the "inbound_initial_requests"
                        rate limiter. Initial requests on new dialogs may be rejected, but mid-dialog requests on
                        existing dialogs will be allowed.</li>
                    <li>The IPAddress config property may now be specified with address/mask notation. For example
                        "192.168.0.0/24" means that the SIP RA will bind to the matching 192.168.0.x address on the
                        host. May be useful in clusters.</li>
                    <li>A more efficient implementation of SIP protocol timers means that memory can be reclaimed
                        faster when timers are cancelled, reducing overall memory usage.</li>
                </ul>

                <h2>SIP Examples 2.2_06</h2>

                <h3>OCSIP Resource Adaptor 2.2_06</h3>
                <ul>
                    <li>Avoid unnecessary DNS lookup when deciding if an OPTIONS request should be handled by the RA.</li>
                    <li>Fixed implementation of isLocalSipURI() so that it correctly uses the "maddr" parameter, if present.</li>
                    <li>Support dialogs where the initial remote sequence number is 0.</li>
                </ul>

                <h2>SIP Examples 2.2_05</h2>

                <h3>OCSIP Resource Adaptor 2.2_05</h3>
                <ul>
                    <li>Fixed bug that caused forked dialog creation to fail when using replicated dialogs, when the
                        forked dialog was created by a 2xx with a new to-tag.</li>
                </ul>

                <h2>SIP Examples 2.2_04</h2>

                <h3>OCSIP Resource Adaptor 2.2_04</h3>
                <ul>
                    <li>Added "UseVirtualAddressInURIs" property, to allow user to specify whether or not the RA will
                        use its virtual address (if configured) in SIP URIs generated by the RA.</li>
                    <li>Update Contact header transport in outgoing requests, if it differs from the resolved transport
                        of the next-hop address.</li>
                    <li>Default transport used in RA-generated URIs can be changed by changing the order transports
                        appear in the "Transports" config property, i.e. UDP will be preferred if it appears before TCP.</li>
                    <li>Fixed bug where SleeSipProvider.forwardForkedResponse() would always override the Contact header.
                        Apps may set their own header in the response (using response.setHeader()) before calling
                        forwardForkedResponse().</li>
                    <li>Fixed bug from 2.2_03 where Request-URI would always get replaced in initial outgoing requests
                        on a dialog.</li>
                </ul>

                <h2>SIP Examples 2.2_03</h2>

                <h3>OCSIP Resource Adaptor 2.2_03</h3>
                <ul>
                    <li>Fixed bug that caused dialog-creating 2xx responses to be dropped, if they had a different
                        remote tag to existing early dialogs resulting from a fork.</li>
                    <li>Fixed bug where the remote target of an early client dialog was not updated when the 2xx
                        response arrived.</li>
                    <li>Add "oc-node" parameter to local Via headers and SIP URIs created by the RA, may be useful with
                        load balancers in some scenarios.</li>
                    <li>Allow apps to override the Contact header in reliable provisional responses.</li>
                    <li>When forwarding responses between dialogs, RA preserves Contact header in 3xx-6xx responses,
                        unless replaced by the application.</li>
                    <li>Fixed bug that caused scenarios using reliable provisional responses and forking to fail.</li>
                    <li>Fixed bug in implementation of SleeSipProvider.getNewDialog(from,to) that caused client dialogs
                        to fail.</li>
                </ul>

                <h2>SIP Examples 2.2_02</h2>

                <h3>OCSIP Resource Adaptor 2.2_02</h3>
                <ul>
                    <li>Fix bug that could cause client transactions to leak if they timed out after their associated
                        dialog was removed.</li>
                    <li>Be more forgiving if incoming messages illegally contain multiple values for a single-value
                        header, silently ignore additional headers.</li>
                    <li>Send "491 Request Pending" response if a re-INVITE is received while waiting for the ACK from
                        a previous INVITE.</li>
                    <li>If an initial persistent connection attempt fails with a transport error, raise an alarm, but
                        keep the connection activity open and retry the connection, rather than shutting it down.</li>
                    <li>Support OCSIP RA Type 2.2.</li>
                </ul>

                <h3>OCSIP RA Type 2.2</h3>
                <ul>
                    <li>Provides extension <a href="api/ocsip-ratype/com/opencloud/javax/sip/header/RSeqHeader.html">RSeqHeader</a>
                        and <a href="api/ocsip-ratype/com/opencloud/javax/sip/header/RAckHeader.html">RAckHeader</a>
                        interfaces that accept long sequence number values (up to 2<sup>32</sup> - 1). </li>
                    <li>Added <a href="api/ocsip-ratype/com/opencloud/javax/sip/slee/OCSleeSipProvider.html#getNodeID()">OCSleeSipProvider.getNodeID()</a>
                        method.</li>
                </ul>

                <h2>SIP Examples 2.2_01</h2>

                <h3>OCSIP Resource Adaptor 2.2_01</h3>
                <ul>
                    <li>Fixed bugs in forked dialog handling.</li>
                </ul>
                <h3>Examples</h3>
                <ul>
                    <li>B2BUA service: mask dialog forked events so they will be processed by a new root SBB entity.</li>
                </ul>

                <h2>SIP Examples 2.2</h2>

                <h3>OCSIP RA Type 2.1</h3>
                <ul>
                    <li>Provide new getNewDialog() variants that allow apps to specify the Call-ID and local-tag for
                        new outgoing dialogs, see <a href="api/ocsip-ratype/com/opencloud/javax/sip/slee/OCSleeSipProvider.html">OCSleeSipProvider</a>.</li>
                    <li>Provide associateServerTransaction()/getAssociatedServerTransaction() methods on
                        <a href="api/ocsip-ratype/com/opencloud/javax/sip/ClientTransaction.html">ClientTransaction</a>,
                        allows a server transaction to be associated with a client transaction when no dialog is present.</li>
                    <li>Provide methods to specify when compact forms of SIP headers should be used, see
                        <a href="api/ocsip-ratype/com/opencloud/javax/sip/OCMessage.html">OCMessage</a>.</li>
                </ul>

                <h3>OCSIP Resource Adaptor 2.2</h3>
                <ul>
                    <li>Supports OCSIP RA Type 2.1.</li>
                    <li>Fixed an issue that could eventually cause the JVM to run out of permgen space after many deploy/undeploy cycles.</li>
                    <li>Fixed bug in Dialog.getLocalSeqNumber()/getRemoteSeqNumber().</li>
                </ul>

                <h2>SIP Examples 2.1_01</h2>

                <h3>OCSIP Resource Adaptor 2.1_01</h3>
                <ul>
                    <li>Fixed issue where response events were being dropped on mid-dialog client transaction activities.</li>
                    <li>Fixed issue where RA would fail to activate if TLS was enabled.</li>
                    <li>Allow apps to override Contact header used when creating dialogs.</li>
                    <li>Implemented workaround for JDK 1.6.0_10 <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6795561">CharBuffer bug</a>, that could cause SIP parser to fail in some cases.</li>
                </ul>
                <h3>Examples</h3>
                <ul>
                    <li>B2BUA now uses the location service to lookup registered contact addresses.</li>
                </ul>

                <h2>SIP Examples 2.1</h2>

                <h3>1. JAIN SLEE 1.1 Support</h3>

                <p>The SIP RA 2.1 has been ported to the JAIN SLEE 1.1 Resource Adaptor API.<br>
                <b>This means that the RA <i>must</i> be deployed on Rhino 2.0 GA or later, which supports JAIN SLEE 1.1</b>.</p>

                <p>The example SIP applications have also been upgraded to use the JAIN SLEE 1.1 API.</p>

                <p>Note that SIP RA 2.0 (released with Rhino 2.0 Developer Preview) used the earlier SLEE 1.1-PFD
                (Public Final Draft) API. Changes to the specification between SLEE 1.1-PFD and SLEE 1.1 mean that
                SIP RA 2.0 will not deploy on Rhino 2.0 GA.</p>

                <h3>2. JAIN SIP 1.2 Resource Adaptor Type Support</h3>

                <p>The SIP RA 2.0 implements the recommended JAIN SIP 1.2 RA Type, as described in Appendix D of
                the SLEE 1.1 specification. SBBs that used the earlier OpenCloud SIP RA Type will need some
                small modifications to use the new RA Type. See <a href="ratype.html">RA Type Overview</a> for
                information about the new RA Type, and changes from the earlier RA Type.</p>
                
                <h3>3. Inclusion of Example Presence Service Application</h3>
                
                <p>The SIP examples now include an example implementation of a Presence service. This allows SIP clients
                that support SIP/SIMPLE (Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions)
                to use their Buddy List and Instant Messaging features. For further details regarding the included 
                Presence service, please refer to the SIP Examples chapter in the Rhino Admin Guide.</p>
               
            </div>
        </div>
    </div>

    <div id="footer">
        <ul>
            <li></li>
        </ul>

        <p class="copyright">&copy; OpenCloud Limited 2007-2010</p>
    </div>
</div>
</body>
</html>
