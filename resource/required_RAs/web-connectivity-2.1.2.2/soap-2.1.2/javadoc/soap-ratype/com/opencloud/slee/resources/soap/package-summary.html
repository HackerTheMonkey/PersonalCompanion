<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_21) on Tue Mar 15 13:34:44 NZDT 2011 -->
<TITLE>
com.opencloud.slee.resources.soap (OpenCloud SOAP Resource Adaptor)
</TITLE>

<META NAME="date" CONTENT="2011-03-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="com.opencloud.slee.resources.soap (OpenCloud SOAP Resource Adaptor)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../com/opencloud/slee/resources/soap/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/opencloud/slee/resources/soap/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package com.opencloud.slee.resources.soap
</H2>

      The Rhino SLEE SOAP Resource Adaptor allows SLEE services
      to receive SOAP requests as events, and initiate SOAP
      requests to external systems.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/IncomingSOAPRequestActivity.html" title="interface in com.opencloud.slee.resources.soap">IncomingSOAPRequestActivity</A></B></TD>
<TD>An incoming request activity, created when a SOAP request is
 received by the RA.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/OutgoingSOAPRequestActivity.html" title="interface in com.opencloud.slee.resources.soap">OutgoingSOAPRequestActivity</A></B></TD>
<TD>An outgoing request activity, created when an application sends
 a SOAP request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/SOAPActivity.html" title="interface in com.opencloud.slee.resources.soap">SOAPActivity</A></B></TD>
<TD>Superclass for SOAP request and response activities.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/SOAPActivityContextInterfaceFactory.html" title="interface in com.opencloud.slee.resources.soap">SOAPActivityContextInterfaceFactory</A></B></TD>
<TD>SOAP Activity Context Interface Factory, implemented by the SLEE.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/SOAPEvent.html" title="interface in com.opencloud.slee.resources.soap">SOAPEvent</A></B></TD>
<TD>Superclass for events carrying a SOAP message payload.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/SOAPProvider.html" title="interface in com.opencloud.slee.resources.soap">SOAPProvider</A></B></TD>
<TD>Provider interface for applications that want to process or
 send SOAP requests.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/SOAPRequest.html" title="interface in com.opencloud.slee.resources.soap">SOAPRequest</A></B></TD>
<TD>A SOAP request event.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../com/opencloud/slee/resources/soap/SOAPResponse.html" title="interface in com.opencloud.slee.resources.soap">SOAPResponse</A></B></TD>
<TD>A SOAP response event.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package com.opencloud.slee.resources.soap Description
</H2>

<P>
<p>
      The Rhino SLEE SOAP Resource Adaptor allows SLEE services
      to receive SOAP requests as events, and initiate SOAP
      requests to external systems.
    </p>

    <h2>SAAJ and message factories</h2>

    <p>
      The SOAP RA uses the
      <a href="http://java.sun.com/xml/saaj/index.jsp">SAAJ API</a>
      (previously part of JAX-RPC) to represent SOAP messages in both
      requests and responses. The <code>SOAPMessage</code> class is
      the top-level object used to represent a SOAP message, for both
      request and response payloads.
    </p>
    
    <p>
      The
      <a href="SOAPProvider.html"><code>SOAPProvider</code></a>
      provider interface provides methods to obtain
      appropriate <code>javax.xml.soap.MessageFactory</code> and
      <code>javax.xml.soap.SOAPFactory</code> instances. These methods should
      be used in preference to the SAAJ <code>newInstance()</code> methods, as
      using <code>newInstance()</code> is likely to fail in a SLEE environment
      due to classloader structure.
    </p>
    
    <p>
      SBBs can obtain a <code>SOAPProvider</code> instance via JNDI
      by specifying an appropriate &lt;resource-adaptor-entity-binding&gt;
      entry in the SBB deployment descriptor.
    </p>
    
    <h2>Handling incoming SOAP requests</h2>

    <p>
      When the SOAP RA receives a SOAP request, it creates a new
      <a href="IncomingSOAPRequestActivity.html">
        <code>IncomingSOAPRequestActivity</code></a> activity and fires a
      <a href="SOAPRequest.html">
        <code>SOAPRequest</code></a> event on that activity. The address of
      the fired event is the requested URL path (from the HTTP request line)
      (NB: address is Not Yet Implemented).
    </p>

    <p>
      Services that are interested in handling SOAP requests should:
    </p>

    <ul>
      <li>Provide an event handler for SOAPRequest on their root SBB</li>
      <li>Specify SOAPRequest as an initial event</li>
      <li>Optionally, provide an initial event selector that decides which
        requests to process based on the requested URL (event address).
      </li>
    </ul>
    
    <p> 
      To respond to a request, a SBB should use the 
      <a href="IncomingSOAPRequestActivity.html#sendResponse(javax.xml.soap.SOAPMessage)">
        <code>IncomingSOAPRequestActivity.sendResponse()</code></a> method, providing
      the SOAP message to send as a response. This can be done either directly
      from the SOAPRequest event handler, or asynchronously at some later point
      (for example, after data for the response has been collected from a separate
      external system). When a response is provided, the IncomingSOAPRequestActivity
      is automatically ended by the resource adaptor.
    </p>
      
    <p>
      If no SBB processes a SOAPRequest event, or if there is no SOAP response
      provided by a SBB within a configurable timeout, the SOAP RA will send a
      SOAP Fault response and end the IncomingSOAPRequestActivity.
    </p>

    <h2>Sending SOAP requests to other systems</h2>

    <p>
      The SOAPProvider interface provides methods that allow SBBs to send synchronous or
      asynchronous SOAP requests.
    </p>

    <p>
      SOAP requests consist of a SOAPMessage payload and a URL specifying the
      location to deliver the request to. Responses consist of a SOAPMessage payload,
      and HTTP-level status codes (numeric code and reason), encapsulated together in
      the <a href="SOAPResponse.html"><code>SOAPResponse</code></a>
      class.
    </p>

    <p>
      If a connection error or HTTP-level error occurs such that no SOAP
      response is available from the remote server, a SOAP response
      containing an appropriate SOAP fault is synthesized and returned.
    </p>
      
    <p>
      Synchronous SOAP requests are made by invoking the
      <a href="SOAPProvider.html#sendSyncRequest(java.net.URL,%20javax.xml.soap.SOAPMessage)"><code>SOAPProvider.sendSyncRequest()</code></a>
      method. This method blocks until a response is available, and
      returns that response.
    </p>

    <p>
      Asynchronous SOAP requests are initiated by invoking the 
      <a href="SOAPProvider.html#sendRequest(java.net.URL,%20javax.xml.soap.SOAPMessage)"><code>SOAPProvider.sendRequest()</code></a>
      methods. These methods causes a new
      <a href="OutgoingSOAPRequestActivity.html"><code>OutgoingSOAPRequestActivity</code></a>
      activity to be created and associated with the request. When the
      request completes, a <code>SOAPResponse</code> event is fired on
      the outgoing activity. SBBs that wish to receive the response
      should attach to the activity returned by <code>sendRequest</code>.
    </p>

    <p>
      By default, an outgoing SOAP request activity is ended when a response
      is received. This can be prevented by passing <code>false</code> as
      <code>endOnResponse</code> when calling <code>sendRequest()</code>.
      In this case, the outgoing activity must be explicitly ended by a
      SBB calling <a href="OutgoingSOAPRequestActivity.html#endActivity()"><code>OutgoingSOAPRequestActivity.endActivity()</code></a>
      when the activity is no longer needed.
    </p>           

    <h2>Configuration Properties</h2>

    <p>
      The SOAP resource adaptor has a number of configuration properties:
    </p>

    <dl>
      <dt>ListenAddress</dt>
      <dd>Hostname or IP address to accept connections on</dd>

      <dt>ListenPort</dt>
      <dd>Numeric port to accept connections on</dd>

      <dt>IncomingRequestTimeout</dt>
      <dd>
        Milliseconds to wait for a SBB to generate a response to an
        incoming request. If this timeout is exceeded, the SOAP RA
        will return a SOAP Fault to the requesting client.
      </dd>

      <dt>IncomingIdleTimeout</dt>
      <dd>
        Milliseconds of idle time to allow on a persistant incoming
        connection before it is closed. Should generally be longer
        than the corresponding outgoing idle timeout of the peer.
      </dd>
      
      <dt>MaxOutgoingConnections</dt>
      <dd>
        Maximum number of outgoing connections to make to a single
        host.
      </dd>

      <dt>OutgoingRequestTimeout</dt>
      <dd>
        Milliseconds to wait for a response from a remote server before
        returning an error response (SOAP fault) to the initiating SBB.
      </dd>

      <dt>OutgoingIdleTimeout</dt>
      <dd>
        Milliseconds of idle time to allow on a persistent outgoing
        connection before it is closed. Should generally be shorter
        than the corresponding incoming idle timeout of the peer.
      </dd>
      
      <dt>MaxDepth</dt>
      <dd>
        Maximum number of outgoing requests on a single connection 
        that may be in flight simultaneously (i.e. without waiting
        for a response to previous requests).
      </dd>
      
      <dt>QueueTimeout</dt>
      <dd>
        Maximum time in milliseconds that an outgoing request may
        be queued waiting for an available outgoing connection before
        returning an error response (SOAP fault) to the initiating SBB.
      </dd>

      <dt>ReconnectTimeout</dt>
      <dd>
        Time in milliseconds between reconnect attempts to a failed
        server.
      </dd>

      <dt>ServerName</dt>
      <dd>
        The value of the Server: header to report in SOAP responses.
      </dd>

      <dt>UserAgent</dt>
      <dd>
        The value of the User-Agent: header to report in SOAP requests.
      </dd>
      
      <dt>MaxContentLength</dt>
      <dd>
        Maximum value in bytes for the Content-Length header of the encapsulating 
        HTTP messages which have a message body. If this value is exceeded, an 
        error response (SOAP fault) is issued.
      </dd>

      <!-- Internal parameters: NodeID, AddressType, SOAPFactory, SOAPMessageFactory -->
    </dl>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../com/opencloud/slee/resources/soap/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/opencloud/slee/resources/soap/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
